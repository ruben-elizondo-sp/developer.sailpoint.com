"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([[9440],{3501:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>u,toc:()=>o});var n=a(87462),i=(a(67294),a(3905));const l={id:"identity-attribute-rule",title:"Identity Attribute Rule",pagination_label:"Identity Attribute Rule",sidebar_label:"Identity Attribute Rule",sidebar_class_name:"identityAttributeRule",keywords:["cloud","rules","identity attribute"],description:"This rule calculates and returns an identity attribute for a specific identity.",slug:"/docs/rules/cloud-rules/identity-attribute-rule",tags:["Rules"]},r="Identity Attribute Rule",u={unversionedId:"docs/identity-now/rules/cloud-rules/identity-attribute-rule",id:"docs/identity-now/rules/cloud-rules/identity-attribute-rule",title:"Identity Attribute Rule",description:"This rule calculates and returns an identity attribute for a specific identity.",source:"@site/products/idn/docs/identity-now/rules/cloud-rules/identity_attribute_rule.md",sourceDirName:"docs/identity-now/rules/cloud-rules",slug:"/docs/rules/cloud-rules/identity-attribute-rule",permalink:"/idn/docs/rules/cloud-rules/identity-attribute-rule",draft:!1,editUrl:"https://github.com/sailpoint-oss/developer-community-site/edit/main/products/idn/docs/identity-now/rules/cloud-rules/identity_attribute_rule.md",tags:[{label:"Rules",permalink:"/idn/tags/rules"}],version:"current",lastUpdatedBy:"GitHub Action Bot",lastUpdatedAt:1666883192,formattedLastUpdatedAt:"Oct 27, 2022",frontMatter:{id:"identity-attribute-rule",title:"Identity Attribute Rule",pagination_label:"Identity Attribute Rule",sidebar_label:"Identity Attribute Rule",sidebar_class_name:"identityAttributeRule",keywords:["cloud","rules","identity attribute"],description:"This rule calculates and returns an identity attribute for a specific identity.",slug:"/docs/rules/cloud-rules/identity-attribute-rule",tags:["Rules"]},sidebar:"idnDocs",previous:{title:"Generic Rule",permalink:"/idn/docs/rules/cloud-rules/generic-rule"},next:{title:"Manager Correlation Rule",permalink:"/idn/docs/rules/cloud-rules/manager-correlation-rule"}},d={},o=[{value:"Overview",id:"overview",level:2},{value:"Execution",id:"execution",level:2},{value:"Input",id:"input",level:2},{value:"Output",id:"output",level:2},{value:"Template",id:"template",level:2},{value:"Example - Calculate Lifecycle State Based on Start and End Dates",id:"example---calculate-lifecycle-state-based-on-start-and-end-dates",level:2}],s={toc:o};function c(t){let{components:e,...l}=t;return(0,i.kt)("wrapper",(0,n.Z)({},s,l,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"identity-attribute-rule"},"Identity Attribute Rule"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,'This rule calculates and returns an identity attribute for a specific identity.\nThis rule is also known as a "complex" rule on the identity profile.'),(0,i.kt)("h2",{id:"execution"},"Execution"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Cloud Execution")," - This rule executes in the IdentityNow cloud, and it has\nread-only access to IdentityNow data models, but it does not have access to\non-premise sources or connectors."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Logging")," - Logging statements are currently only visible to SailPoint\npersonnel.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Rule Execution",src:a(62430).Z,width:"1594",height:"635"})),(0,i.kt)("h2",{id:"input"},"Input"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Argument"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Purpose"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"log"),(0,i.kt)("td",{parentName:"tr",align:null},"org.apache.log4j.Logger"),(0,i.kt)("td",{parentName:"tr",align:null},"Logger to log statements. ",(0,i.kt)("em",{parentName:"td"},"Note: This executes in the cloud, and logging is currently not exposed to anyone other than SailPoint."))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"idn"),(0,i.kt)("td",{parentName:"tr",align:null},"sailpoint.server.IdnRuleUtil"),(0,i.kt)("td",{parentName:"tr",align:null},"Provides a read-only starting point for using the SailPoint API. From this passed reference, the rule can interrogate the IdentityNow data model including identities or account information via helper methods as described in ",(0,i.kt)("a",{parentName:"td",href:"/idn/docs/rules/rule-utility"},"IdnRuleUtil"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"identity"),(0,i.kt)("td",{parentName:"tr",align:null},"sailpoint.object.Identity"),(0,i.kt)("td",{parentName:"tr",align:null},"Reference to identity object representing the identity being calculated.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"oldValue"),(0,i.kt)("td",{parentName:"tr",align:null},"java.lang.Object"),(0,i.kt)("td",{parentName:"tr",align:null},"Attribute value for the identity attribute before the rule runs.")))),(0,i.kt)("h2",{id:"output"},"Output"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Argument"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Purpose"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"attributeValue"),(0,i.kt)("td",{parentName:"tr",align:null},"java.lang.Object"),(0,i.kt)("td",{parentName:"tr",align:null},"Value returned for the identity attribute.")))),(0,i.kt)("h2",{id:"template"},"Template"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<!DOCTYPE Rule PUBLIC "sailpoint.dtd" "sailpoint.dtd">\n<Rule name="Example Rule" type="IdentityAttribute">\n  <Description>Describe your rule here.</Description>\n  <Source><![CDATA[\n\n\n  // Add your logic here.\n\n  ]]></Source>\n</Rule>\n')),(0,i.kt)("h2",{id:"example---calculate-lifecycle-state-based-on-start-and-end-dates"},"Example - Calculate Lifecycle State Based on Start and End Dates"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'<?xml version=\'1.0\' encoding=\'UTF-8\'?>\n<!DOCTYPE Rule PUBLIC "sailpoint.dtd" "sailpoint.dtd">\n<Rule name="Example Rule" type="IdentityAttribute">\n  <Description>Calculates LCS based on start and end dates.</Description>\n  <Source><![CDATA[\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n// Date format we expect dates to be in (ISO8601)\nSimpleDateFormat dateFormat = new SimpleDateFormat( "yyyy-MM-dd" );\n\n// Parse the start date from the identity, and put in a Date object.\nDate startDate = null;\nif ( identity.getAttribute( "startDate" ) != null ) {\n  startDate = dateFormat.parse( identity.getAttribute( "startDate" ) );\n}\n\n// Parse the end date from the identity, and put in a Date object.\nDate endDate = null;\nif ( identity.getAttribute( "endDate" ) != null ) {\n  endDate = dateFormat.parse( identity.getAttribute( "endDate" ) );\n}\n\n// Define a date for today\nDate today = new Date();\n\n// Calculate lifecycle state based on the attributes.\nif( startDate.before( today ) && endDate.after( today ) ) {\n  return "active";\n} else if ( endDate.before( today ) ) {\n  return "inactive";\n}\n\n// If we haven\'t calculated a state already; return null.\nreturn null;\n\n  ]]></Source>\n</Rule>\n')))}c.isMDXComponent=!0},62430:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/cloud_execution-7029b7fdcb50a6ea04ef055f18117067.png"}}]);