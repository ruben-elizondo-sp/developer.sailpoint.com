"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([[37257],{559:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>g,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var n=i(87462),s=(i(67294),i(3905));const r={id:"testing-triggers",title:"Testing Triggers",pagination_label:"Testing Triggers",sidebar_label:"Testing Triggers",sidebar_position:5,sidebar_class_name:"testingTriggers",keywords:["event","trigger","testing"],description:"It is important to test your trigger subscription configuration with your actual subscribing service before enabling your subscription for production use.",slug:"/docs/event-triggers/testing-triggers",tags:["Event Triggers"]},o=void 0,a={unversionedId:"docs/identity-now/event-triggers/testing-triggers",id:"docs/identity-now/event-triggers/testing-triggers",title:"Testing Triggers",description:"It is important to test your trigger subscription configuration with your actual subscribing service before enabling your subscription for production use.",source:"@site/products/idn/docs/identity-now/event-triggers/testing-triggers.md",sourceDirName:"docs/identity-now/event-triggers",slug:"/docs/event-triggers/testing-triggers",permalink:"/idn/docs/event-triggers/testing-triggers",draft:!1,editUrl:"https://github.com/sailpoint-oss/developer-community-site/edit/main/products/idn/docs/identity-now/event-triggers/testing-triggers.md",tags:[{label:"Event Triggers",permalink:"/idn/tags/event-triggers"}],version:"current",lastUpdatedBy:"GitHub Action Bot",lastUpdatedAt:1666883192,formattedLastUpdatedAt:"Oct 27, 2022",sidebarPosition:5,frontMatter:{id:"testing-triggers",title:"Testing Triggers",pagination_label:"Testing Triggers",sidebar_label:"Testing Triggers",sidebar_position:5,sidebar_class_name:"testingTriggers",keywords:["event","trigger","testing"],description:"It is important to test your trigger subscription configuration with your actual subscribing service before enabling your subscription for production use.",slug:"/docs/event-triggers/testing-triggers",tags:["Event Triggers"]},sidebar:"idnDocs",previous:{title:"Filtering Events",permalink:"/idn/docs/event-triggers/filtering-events"},next:{title:"Responding To Request Response Triggers",permalink:"/idn/docs/event-triggers/responding-request-response-trigger"}},g={},c=[{value:"Sending Test Invocations",id:"sending-test-invocations",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Trigger Service Issues",id:"trigger-service-issues",level:3},{value:"Filter Issues",id:"filter-issues",level:3},{value:"Misconfigured Subscription",id:"misconfigured-subscription",level:3}],u={toc:c};function l(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"It is important to test your trigger subscription configuration with your actual\nsubscribing service (not a test site like ",(0,s.kt)("a",{parentName:"p",href:"https://webhook.site"},"webhook.site"),")\nbefore enabling your subscription for production use. Testing subscriptions\nensures that your subscribing service can successfully receive events and that\nyou are receiving the correct events based on the filter you have provided."),(0,s.kt)("h2",{id:"sending-test-invocations"},"Sending Test Invocations"),(0,s.kt)("p",null,"The easiest way to send a test event to your subscribing service is to use the\n",(0,s.kt)("strong",{parentName:"p"},"Test Subscription")," command. Go to your subscription in the Event Trigger UI,\nselect ",(0,s.kt)("strong",{parentName:"p"},"Options")," to the right of the subscription, and select ",(0,s.kt)("strong",{parentName:"p"},"Test\nSubscription"),"."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"test subscription",src:i(27161).Z,width:"2041",height:"344"})),(0,s.kt)("p",null,"Doing so sends a test event to your subscribing service, using the default\nexample payload for the specific trigger you are subscribing to. This is an easy\nway to validate that your service can receive events, but it lacks the ability\nto modify the event payload to test your filter against different payloads.\nHowever, there is an API endpoint you can use to modify the test payload."),(0,s.kt)("p",null,"If you want to control the test input to validate your filter against a more\nrobust set of data, you can use the\n",(0,s.kt)("a",{parentName:"p",href:"/idn/api/beta/start-test-invocation"},"test invocation")," API endpoint. You can use\nthis API to send an input payload with any values that you want. This is an\nexample of an invocation of this API:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-text"},"POST `https://{tenant}.api.identitynow.com/beta/trigger-invocations/test`\n")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "triggerId": "idn:access-request-pre-approval",\n  "input": {\n    "accessRequestId": "2c91808b6ef1d43e016efba0ce470904",\n    "requestedFor": {\n      "type": "IDENTITY",\n      "id": "2c91808568c529c60168cca6f90c1313",\n      "name": "William Wilson"\n    },\n    "requestedItems": [\n      {\n        "id": "2c91808b6ef1d43e016efba0ce470904",\n        "name": "Engineering Access",\n        "description": "Access to engineering database",\n        "type": "ACCESS_PROFILE",\n        "operation": "Add",\n        "comment": "William needs this access to do his job."\n      }\n    ],\n    "requestedBy": {\n      "type": "IDENTITY",\n      "id": "2c91808568c529c60168cca6f90c1314",\n      "name": "Rob Robertson"\n    }\n  },\n  "contentJson": {}\n}\n')),(0,s.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,s.kt)("h3",{id:"trigger-service-issues"},"Trigger Service Issues"),(0,s.kt)("p",null,"If your subscribing service is not receiving your test invocations, you have a\ncouple of options to debug the issue. Start by viewing the activity log for the\nsubscription in the UI to ensure your test events are actually being sent."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"activity log",src:i(21190).Z,width:"2033",height:"316"})),(0,s.kt)("p",null,"Check the ",(0,s.kt)("strong",{parentName:"p"},"Created")," date with the time you sent the test events. If they are\nbeing sent, check the event details. Look for any errors being reported, and\nensure your subscribing service's subscription ID is in the ",(0,s.kt)("inlineCode",{parentName:"p"},"subcriptionId")," the\nevent was sent to."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"debug connection",src:i(68574).Z,width:"2560",height:"1328"})),(0,s.kt)("p",null,"You can also view the activity log by using the\n",(0,s.kt)("a",{parentName:"p",href:"/idn/api/beta/list-invocation-status"},"list latest invocation statuses"),"\nendpoint."),(0,s.kt)("h3",{id:"filter-issues"},"Filter Issues"),(0,s.kt)("p",null,"If you do not see your events in the activity log, it may be a filtering issue.\nIf the filter you configured on the subscription is not matching the test event\ndata, no event will be sent. Double check your filter expression with the test\npayload in a JSONpath editor to ensure the filter is valid and matches your\ndata. See ",(0,s.kt)("a",{parentName:"p",href:"/idn/docs/event-triggers/filtering-events"},"Filtering Events")," for more information."),(0,s.kt)("h3",{id:"misconfigured-subscription"},"Misconfigured Subscription"),(0,s.kt)("p",null,"Double check that your subscription configuration is correct."),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Ensure the URL you provided is accessible from the public internet. If your\nsubscribing service is hosted internally in your company's intranet, you may\nbe able to access it from your computer, but the trigger service may not be\nable to."),(0,s.kt)("li",{parentName:"ul"},"Verify that the authentication details are correct. Verify that the\nusername/password or bearer token is valid.")))}l.isMDXComponent=!0},21190:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/activity-log-f43d2beda4617ad71ede37afaabd3424.png"},68574:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/debug-connection-842ae82e91d48cdd9c4f2a14d4b4c2a3.png"},27161:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/test-subscription-572f17aa5c34840225f632ae61598fd6.png"}}]);